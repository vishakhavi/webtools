{"version":3,"file":"main.js","mappings":"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","sources":["webpack://js-cart/./src/constants.js","webpack://js-cart/webpack/bootstrap","webpack://js-cart/webpack/runtime/define property getters","webpack://js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://js-cart/webpack/runtime/make namespace object","webpack://js-cart/./src/main.js"],"sourcesContent":["export const PAGES = {\r\n    PRODUCT: 'product'\r\n};\r\n\r\nexport const appEl = document.querySelector('#app');\r\nconst state = {\r\n    products: [\r\n        { name: 'Fluffball', item: 'http://placekitten.com/150/150?image=1', price: 0.99 },\r\n        { name: 'General Meyhem', item: 'http://placekitten.com/150/150?image=2', price: 3.14 },\r\n        { name: 'Aegean', item: 'http://placekitten.com/150/150?image=3', price: 2.73 }\r\n    ],\r\n    page: PAGES.PRODUCT,\r\n    viewCart: false\r\n};\r\nexport const cart = {\r\n    items: {\r\n        'Fluffball': {\r\n            name: 'Fluffball',\r\n            image: ' http://placekitten.com/50/50?image=1',\r\n            price: 0,\r\n            quantity: 0,\r\n        },\r\n        'General Meyhem': {\r\n            name: 'General Meyhem',\r\n            image: ' http://placekitten.com/50/50?image=2',\r\n            price: 0,\r\n            quantity: 0,\r\n        },\r\n        'Aegean': {\r\n            name: 'Aegean',\r\n            image: ' http://placekitten.com/50/50?image=3',\r\n            price: 0,\r\n            quantity: 0,\r\n        },\r\n    },\r\n    totalQuantity: 0,\r\n    subtotal: 0\r\n\r\n};\r\n\r\nexport default state;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import state, { PAGES, appEl, cart } from './constants';\r\n\r\nconst renderFor = {\r\n    [PAGES.PRODUCT]: renderProduct,\r\n};\r\nrender();\r\naddEventListener();\r\n\r\nfunction render() {\r\n    renderFor[state.page]();\r\n}\r\n\r\n\r\nfunction renderProduct() {\r\n    const productHtml = generateProductHtml(state.products);\r\n    const viewCartHtml = generateViewCartHtml();\r\n    const navigateHtml = generateNavigateHtml();\r\n    appEl.innerHTML = `\r\n    <div class = \"shopping-products\">\r\n    <div class =\"products-page\">\r\n        <ul class=\"products\">\r\n        ${productHtml}\r\n        </ul>\r\n    </div>\r\n        ${viewCartHtml}\r\n    </div>\r\n        ${navigateHtml}\r\n        `;\r\n}\r\n\r\n\r\nfunction generateProductHtml(productList) {\r\n    return productList.map((product, index) => {\r\n        return `\r\n        <li class=\"product\" >\r\n        <img\r\n        src=${product.item}\r\n        alt=\"a random cat\"\r\n        >\r\n        <div class=\"product-name\">${product.name}</div>\r\n        <div class=\"product-price\">$ ${product.price}</div>\r\n        <form action=\"\" class=\"add-cart\" data-index =${index}>\r\n       <button type=\"submit\"  class=\"product-cart--button\">Add to cart</button> \r\n       </form></li>\r\n            `;\r\n    }).join('');\r\n}\r\n\r\nfunction generateNavigateHtml() {\r\n    const viewButton = state.viewCart ? \"Hide\" : \"View\";\r\n    const showQuantity = cart.totalQuantity ? \"(\" + cart.totalQuantity + \")\" : \"\";\r\n    return ` <button type=\"button\" class=\"show-cart--button\" data-target=\"viewcart\">\r\n       ${viewButton} Cart ${showQuantity}\r\n   </button>`;\r\n}\r\n\r\n\r\nfunction generateViewCartHtml() {\r\n    const keys = Object.keys(cart.items);\r\n    console.log({ keys });\r\n    const checkSubtotal = cart.subtotal == 0 ? \"empty-cart\" : \"view-cart\";\r\n    const showCart = state.viewCart ? \"show\" : \"hide\";\r\n    const cartHtml = generateCart(keys);\r\n    const emptyCart = generateEmptyCart(checkSubtotal);\r\n\r\n    return `<div class=\"cart-page ${showCart}\">\r\n    <h3> Cart </h3>\r\n    <div class=\"cart-table ${checkSubtotal}\">\r\n        <table class='view-cart-table'>\r\n        <thead>\r\n          <tr>\r\n            <th>Product</th>\r\n            <th>Item</th>\r\n            <th>Quantity</th>\r\n            <th>Price</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class='cart-line-items'>\r\n        ${cartHtml}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colspan='3'><b>Subtotal</b></td>\r\n            <td class='cart-subtotal'>$ ${cart.subtotal.toFixed(2)}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n      <form action=\"\" class=\"checkout\">\r\n      <button type=\"submit\"  class=\"checkout--button\">Checkout</button> \r\n      </form>\r\n      </div>\r\n      ${emptyCart}\r\n      </div>`\r\n}\r\n\r\nfunction generateCart(keys) {\r\n    return keys.map((item, index) => {\r\n        const showItem = cart.items[item].quantity ? \"show\" : \"hide\";\r\n        return `\r\n        <tr class=\"cart-items ${showItem}\">\r\n        <td class=\"item\" >\r\n        <img\r\n        src=${cart.items[item].image}\r\n        alt=\"a random cat\"\r\n        >\r\n        </td>\r\n        <td class=\"item-name\">${cart.items[item].name}</td>\r\n        <td class=\"item-quantity\">\r\n        <button\r\n        data-index=\"${index}\" class=\"decrement\" type=\"button\"> -\r\n        </button>\r\n            ${cart.items[item].quantity}\r\n        <button\r\n        data-index=\"${index}\" class=\"increment\" type=\"button\">\r\n        +\r\n        </button>\r\n        </td>\r\n        <td class=\"item-price\">$ ${cart.items[item].price.toFixed(2)}</td>\r\n        </tr>\r\n        `;\r\n    }).join('');\r\n}\r\n\r\nfunction generateEmptyCart(checkSubtotal) {\r\n    return `<p class='msg ${checkSubtotal}'>Nothing in the cart.</p>`;\r\n}\r\n\r\nfunction addEventListener() {\r\n    appEl.addEventListener('submit', (e) => {\r\n        if (e.target.classList.contains('add-cart')) {\r\n            e.preventDefault();\r\n            const index = e.target.dataset.index;\r\n            console.log(`click on <li> index ${index}`);\r\n\r\n            const prod = state.products.at(index);\r\n            console.log({ prod });\r\n            cart.items[prod.name].price += prod.price;\r\n            cart.items[prod.name].quantity += 1;\r\n            cart.subtotal += prod.price;\r\n            cart.totalQuantity += 1;\r\n            console.log({ cart });\r\n            render();\r\n            return;\r\n        }\r\n        if (e.target.classList.contains('checkout')) {\r\n            e.preventDefault();\r\n            const keys = Object.keys(cart.items);\r\n            keys.forEach((element, index) => {\r\n                cart.items[element].price = 0;\r\n                cart.items[element].quantity = 0;\r\n            });\r\n            cart.subtotal = 0;\r\n            cart.totalQuantity = 0;\r\n            console.log({ cart });\r\n            render();\r\n            return;\r\n        }\r\n    });\r\n\r\n    appEl.addEventListener('click', (e) => {\r\n        if (e.target.classList.contains('show-cart--button')) {\r\n            // const target = e.target.dataset.target;\r\n            state.viewCart = !state.viewCart;\r\n            render();\r\n            return;\r\n        }\r\n        if (e.target.classList.contains('decrement')) {\r\n            const index = e.target.dataset.index;\r\n            const prod = state.products.at(index);\r\n            console.log({ prod });\r\n            cart.items[prod.name].price -= prod.price;\r\n            cart.items[prod.name].quantity -= 1;\r\n            cart.subtotal -= prod.price;\r\n            cart.totalQuantity -= 1;\r\n            if (cart.subtotal == 0) {\r\n                render();\r\n                return;\r\n            }\r\n            render();\r\n            return;\r\n        }\r\n        if (e.target.classList.contains('increment')) {\r\n            const index = e.target.dataset.index;\r\n            const prod = state.products.at(index);\r\n            console.log({ prod });\r\n            cart.items[prod.name].price += prod.price;\r\n            cart.items[prod.name].quantity += 1;\r\n            cart.subtotal += prod.price;\r\n            cart.totalQuantity += 1;\r\n            render();\r\n            return;\r\n        }\r\n\r\n    });\r\n}"],"names":["PAGES","PRODUCT","appEl","document","querySelector","state","products","name","item","price","page","viewCart","cart","items","image","quantity","totalQuantity","subtotal","renderFor","renderProduct","render","addEventListener","productHtml","generateProductHtml","viewCartHtml","generateViewCartHtml","navigateHtml","generateNavigateHtml","innerHTML","productList","map","product","index","join","viewButton","showQuantity","keys","Object","console","log","checkSubtotal","showCart","cartHtml","generateCart","emptyCart","generateEmptyCart","toFixed","showItem","e","target","classList","contains","preventDefault","dataset","prod","at","forEach","element"],"sourceRoot":""}